@namespace NumbatWallet.Web.Admin.Components.Widgets

<div class="chart-widget">
    <div class="card h-100">
        <div class="card-header d-flex justify-content-between align-items-center">
            <h5 class="card-title mb-0">@Title</h5>
            @if (ShowRefreshButton)
            {
                <button class="btn btn-sm btn-outline-secondary" @onclick="OnRefresh">
                    <i class="bi bi-arrow-clockwise"></i>
                </button>
            }
        </div>
        <div class="card-body">
            @if (IsLoading)
            {
                <div class="text-center py-5">
                    <div class="spinner-border text-primary" role="status">
                        <span class="visually-hidden">Loading...</span>
                    </div>
                </div>
            }
            else
            {
                @ChildContent
            }
        </div>
    </div>
</div>

@code {
    [Parameter] public string Title { get; set; } = "Chart";
    [Parameter] public bool ShowRefreshButton { get; set; }
    [Parameter] public bool IsLoading { get; set; }
    [Parameter] public RenderFragment? ChildContent { get; set; }
    [Parameter] public EventCallback OnRefresh { get; set; }
}

<style>
    .chart-widget .card {
        border: none;
        box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);
    }

    .chart-widget .card-header {
        background-color: transparent;
        border-bottom: 1px solid rgba(0, 0, 0, 0.125);
    }

    .chart-widget .card-title {
        font-size: 1rem;
        font-weight: 600;
    }
}</style>